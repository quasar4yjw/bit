<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>캡쳐 단계에 리스너 등록</title>
<style>
div{
   border: 1px solid red;
   margin: 10px;
}
p {
   border: 1px dashed blue;
   margin: 10px;
}
span {
   border: 2px solid black;
   
}

</style>
</head>

<body>
<div id="d1">d1
  <div id ="d11">d11<p id="p1">비트 <span id="s1">강남</span>교육센터</p></div> 
  <div id ="d12">d12<p id="p2">비트 <span id="s2">종로</span>교육센터</p></div>
   
</div>
<div id="d2">d2
  <div id ="d21">d21<p id="p3">비트 <span id="s3">대전</span>교육센터</p></div>  
  <div id ="d22">d22<p id="p4">비트 <span id="s4">부산</span>교육센터</p></div> 

</div>


<script>
"use strict"; 


//stop
//일반적인 방법으로 리스너를 등록하면,
// targetting phase 또는 bubbling phase에서 호출됨
// capturing 단계에서 호출되게 하려면, =>
// => addEventListener() 함수를 사용해 리스너를 등록한다.
document.getElementById('d1').addEventListener('click', function(event){
	console.log('d1....');
}, true); // 
document.getElementById('d11').addEventListener('click', function(event){
console.log('d11....');
}, true);
document.getElementById('s1').addEventListener('click', function(event){
console.log('sssssssssss1....');
});


/*
document.getElementById('s1').onclick = function(event){
    console.log('qwers111111111....');
   // event.stopPropagation(); //부모로 버블하지 말라!
}


//리스너를 등록한 순서대로 호출
var e1 = document.getElementById('s1');
e1.addEventListener('click', function(event){
	  console.log('(1)=>s1111111');
	});

e1.onclick = function(event) {
	console.log('(2) s1111111');
	//event.stopPropagation();
	//event.stopImmediatePropagation(); // 즉시 이벤트 전달 멈춰라
}

e1.addEventListener('click', function(event){
	  console.log('(3)=>s1111111');
	});

if (e1.attacheEvent) {
	
//<= IE8
e1.attachEvent('onclick', function(){
	var event = window.event;
});
}
//document.getElementById('s1')

document.getElementById('s2').onclick = function(event){
    console.log('s222222222....');
}
*/

</script>

</body>
</html>















